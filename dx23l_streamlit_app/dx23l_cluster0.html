<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": {"type": "circle", "opacity": 0.2, "size": 1000}, "encoding": {"color": {"field": "claim_type", "type": "nominal"}, "tooltip": [{"field": "cluster0_prev%", "type": "quantitative"}, {"field": "event_name", "type": "nominal"}], "x": {"field": "cluster0_days", "type": "nominal"}, "y": {"field": "event_name", "type": "nominal"}}, "height": 500, "width": 700}, {"mark": {"type": "text", "color": "black", "dx": 1, "fontSize": 15}, "encoding": {"color": {"field": "claim_type", "type": "nominal"}, "text": {"field": "cluster0_prev%", "type": "quantitative"}, "tooltip": [{"field": "cluster0_prev%", "type": "quantitative"}, {"field": "event_name", "type": "nominal"}], "x": {"field": "cluster0_days", "type": "nominal"}, "y": {"field": "event_name", "type": "nominal"}}, "height": 500, "width": 700}, {"mark": {"type": "text", "align": "left", "dx": -20, "dy": -20}, "encoding": {"color": {"field": "claim_type", "type": "nominal"}, "text": {"field": "event_name", "type": "nominal"}, "tooltip": [{"field": "cluster0_prev%", "type": "quantitative"}, {"field": "event_name", "type": "nominal"}], "x": {"field": "cluster0_days", "type": "nominal"}, "y": {"field": "event_name", "type": "nominal"}}, "height": 500, "width": 700}], "data": {"name": "data-63ed379930057000ebed7f0cfc4f8241"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-63ed379930057000ebed7f0cfc4f8241": [{"claim_type": "DX", "event_name": "Dx Cardiac Disorders", "cluster0_days": "440", "cluster0_prev": 321, "total_patients": 1665, "cluster0_prev%": 19.3}, {"claim_type": "DX", "event_name": "Dx Diabetes", "cluster0_days": "418", "cluster0_prev": 339, "total_patients": 1665, "cluster0_prev%": 20.4}, {"claim_type": "DX", "event_name": "Dx Difficulty In Breathing", "cluster0_days": "368", "cluster0_prev": 404, "total_patients": 1665, "cluster0_prev%": 24.3}, {"claim_type": "DX", "event_name": "Dx Essential Hypertension", "cluster0_days": "446", "cluster0_prev": 559, "total_patients": 1665, "cluster0_prev%": 33.6}, {"claim_type": "DX", "event_name": "Dx Myasthenia Gravis With Acute Exacerbation", "cluster0_days": "542", "cluster0_prev": 618, "total_patients": 1665, "cluster0_prev%": 37.1}, {"claim_type": "DX", "event_name": "Dx Myasthenia Gravis Without Acute Exacerbation", "cluster0_days": "395", "cluster0_prev": 1438, "total_patients": 1665, "cluster0_prev%": 86.4}, {"claim_type": "DX", "event_name": "Dx Other Connective Tissue Disease", "cluster0_days": "466", "cluster0_prev": 532, "total_patients": 1665, "cluster0_prev%": 32.0}, {"claim_type": "DX", "event_name": "Dx Other Nervous System Disorders", "cluster0_days": "222", "cluster0_prev": 797, "total_patients": 1665, "cluster0_prev%": 47.9}, {"claim_type": "DX", "event_name": "Dx Other Nutritional Endocrine And Metabolic Disorders", "cluster0_days": "531", "cluster0_prev": 427, "total_patients": 1665, "cluster0_prev%": 25.6}, {"claim_type": "DX", "event_name": "Dx Respiratory Disorders", "cluster0_days": "341", "cluster0_prev": 580, "total_patients": 1665, "cluster0_prev%": 34.8}, {"claim_type": "PX", "event_name": "Px Other Therapeutic Procedures", "cluster0_days": "396", "cluster0_prev": 778, "total_patients": 1665, "cluster0_prev%": 46.7}, {"claim_type": "PX", "event_name": "Px Other Laboratory", "cluster0_days": "440", "cluster0_prev": 876, "total_patients": 1665, "cluster0_prev%": 52.6}, {"claim_type": "PX", "event_name": "Px Imaging Test", "cluster0_days": "418", "cluster0_prev": 928, "total_patients": 1665, "cluster0_prev%": 55.7}, {"claim_type": "PX", "event_name": "Px Er Visit", "cluster0_days": "392", "cluster0_prev": 512, "total_patients": 1665, "cluster0_prev%": 30.8}, {"claim_type": "PX", "event_name": "Px Laboratory Chemistry And Hematology", "cluster0_days": "421", "cluster0_prev": 1019, "total_patients": 1665, "cluster0_prev%": 61.2}, {"claim_type": "RX", "event_name": "Rx Proton Pump Inhibitors", "cluster0_days": "322", "cluster0_prev": 439, "total_patients": 1665, "cluster0_prev%": 26.4}, {"claim_type": "RX", "event_name": "Rx Ache", "cluster0_days": "385", "cluster0_prev": 1360, "total_patients": 1665, "cluster0_prev%": 81.7}, {"claim_type": "RX", "event_name": "Rx Codeine And Combinations Non Injectable", "cluster0_days": "412", "cluster0_prev": 545, "total_patients": 1665, "cluster0_prev%": 32.7}, {"claim_type": "RX", "event_name": "Rx Hmg Coa Reductase Inhibitors", "cluster0_days": "442", "cluster0_prev": 360, "total_patients": 1665, "cluster0_prev%": 21.6}, {"claim_type": "RX", "event_name": "Rx Immunosuppresive Transplant Agents", "cluster0_days": "423", "cluster0_prev": 667, "total_patients": 1665, "cluster0_prev%": 40.1}, {"claim_type": "RX", "event_name": "Rx Ivig", "cluster0_days": "447", "cluster0_prev": 560, "total_patients": 1665, "cluster0_prev%": 33.6}, {"claim_type": "RX", "event_name": "Rx Ivigscig", "cluster0_days": "414", "cluster0_prev": 523, "total_patients": 1665, "cluster0_prev%": 31.4}, {"claim_type": "RX", "event_name": "Rx Steroids", "cluster0_days": "390", "cluster0_prev": 977, "total_patients": 1665, "cluster0_prev%": 58.7}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>